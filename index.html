<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Mocker-data-generator by danibram</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Mocker-data-generator</h1>
      <h2 class="project-tagline">A simplified way to generate masive mock data.</h2>
      <a href="https://github.com/danibram/mocker-data-generator" class="btn">View on GitHub</a>
      <a href="https://github.com/danibram/mocker-data-generator/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/danibram/mocker-data-generator/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="mocker-data-generator" class="anchor" href="#mocker-data-generator" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>mocker-data-generator</h1>

<p>A simplified way to generate masive mock data based on a schema, and you can use super cool libraries like fakerJs and chanceJs to generate fake data.</p>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting started</h2>

<p>Install the module with: <code>npm install mocker-data-generator</code></p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> user <span class="pl-k">=</span> {
    firstName<span class="pl-k">:</span> {
        faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>name.firstName<span class="pl-pds">'</span></span>
    },
    lastName<span class="pl-k">:</span> {
        faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>name.lastName<span class="pl-pds">'</span></span>
    },
    country<span class="pl-k">:</span> {
        faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>address.country<span class="pl-pds">'</span></span>
    },
    createdAt<span class="pl-k">:</span> {
        faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>date.past<span class="pl-pds">'</span></span>
    },
    username<span class="pl-k">:</span>{
        <span class="pl-en">function</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
            <span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-c1">object</span>.<span class="pl-smi">lastName</span>.<span class="pl-c1">substring</span>(<span class="pl-c1">0</span>, <span class="pl-c1">5</span>) <span class="pl-k">+</span> <span class="pl-v">this</span>.<span class="pl-c1">object</span>.<span class="pl-smi">firstName</span>.<span class="pl-c1">substring</span>(<span class="pl-c1">0</span>, <span class="pl-c1">3</span>) <span class="pl-k">+</span> <span class="pl-c1">Math</span>.<span class="pl-c1">floor</span>(<span class="pl-c1">Math</span>.<span class="pl-c1">random</span>() <span class="pl-k">*</span> <span class="pl-c1">10</span>)
        }
    }
};
<span class="pl-k">var</span> group <span class="pl-k">=</span> {
    description<span class="pl-k">:</span> {
        faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>lorem.paragraph<span class="pl-pds">'</span></span>
    },
    users<span class="pl-k">:</span> [{
        <span class="pl-en">function</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
            <span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-smi">faker</span>.<span class="pl-smi">random</span>.<span class="pl-en">arrayElement</span>(<span class="pl-v">this</span>.<span class="pl-smi">db</span>.<span class="pl-smi">users</span>).<span class="pl-smi">username</span>
        },
        length<span class="pl-k">:</span> <span class="pl-c1">10</span>,
        fixedLength<span class="pl-k">:</span> <span class="pl-c1">false</span>
    }]
};
<span class="pl-k">var</span> conditionalField <span class="pl-k">=</span> {
    type<span class="pl-k">:</span>{
        values<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>HOUSE<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>CAR<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>MOTORBIKE<span class="pl-pds">'</span></span>]
    },
    <span class="pl-s"><span class="pl-pds">'</span>object.type=="HOUSE",location<span class="pl-pds">'</span></span><span class="pl-k">:</span>{
        faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>address.city<span class="pl-pds">'</span></span>
    },
    <span class="pl-s"><span class="pl-pds">'</span>object.type=="CAR"||object.type=="MOTORBIKE",speed<span class="pl-pds">'</span></span><span class="pl-k">:</span>{
        faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>random.number<span class="pl-pds">'</span></span>
    }
};

<span class="pl-en">mocker</span>()
    .<span class="pl-en">schema</span>(<span class="pl-s"><span class="pl-pds">'</span>user<span class="pl-pds">'</span></span>, user, <span class="pl-c1">2</span>)
    .<span class="pl-en">schema</span>(<span class="pl-s"><span class="pl-pds">'</span>group<span class="pl-pds">'</span></span>, group, <span class="pl-c1">2</span>)
    .<span class="pl-en">schema</span>(<span class="pl-s"><span class="pl-pds">'</span>conditionalField<span class="pl-pds">'</span></span>, conditionalField <span class="pl-c1">2</span>)
    .<span class="pl-en">build</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">util</span>.<span class="pl-en">inspect</span>(data, { depth<span class="pl-k">:</span> <span class="pl-c1">10</span> }))
<span class="pl-c">//This returns an object</span>
<span class="pl-c">// {</span>
<span class="pl-c">//      user:[array of users],</span>
<span class="pl-c">//      group: [array of groups],</span>
<span class="pl-c">//      conditionalField: [array of conditionalFields]</span>
<span class="pl-c">// }</span>
        })</pre></div>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h2>

<p>Data generation goes with model based composed by generators, the generators can have access to the data generated and to the entity generated. <strong><em>Generators run syncronously, take care of the related entities!!</em></strong></p>

<h4>
<a id="model-definition" class="anchor" href="#model-definition" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Model definition</h4>

<p>Every model should contains the specified fields. Key can be 2 types:</p>

<ul>
<li>
<strong><em>Normal string</em></strong> key: indicates the key.</li>
<li>
<strong><em>Comaseparated string</em></strong> key: indicates that there is a conditional, before the coma you must specify a conditional (you have all level fields generated in this moment), then you must specify the field if the conditional is true see the example.</li>
</ul>

<p>Inside every value you can put:</p>

<ul>
<li>
<p><strong><em>static</em></strong>: For fixed fields</p>

<div class="highlight highlight-source-js"><pre>    { static<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>hello im fixed field<span class="pl-pds">'</span></span> }     </pre></div>
</li>
<li>
<p><strong><em>incrementalId</em></strong>: For incremental numeric ids, pass the start number to increment. If you put incrementalId = true it takes from 0 the ids.</p>

<div class="highlight highlight-source-js"><pre>    { incrementalId<span class="pl-k">:</span> <span class="pl-c1">0</span> }     </pre></div>
</li>
<li>
<p><strong><em>funcion</em></strong>: No params are passed, only context (<code>this</code>), in this you have <code>{db, object, faker, chance}</code>, and you can use faker or chance functions, object (the specified model), db (actual data generated)</p>

<div class="highlight highlight-source-js"><pre>    { <span class="pl-en">function</span><span class="pl-k">:</span> <span class="pl-k">function</span>(){
        <span class="pl-c">//this.db</span>
        <span class="pl-c">//this.object</span>
        <span class="pl-c">//this.faker</span>
        <span class="pl-c">//this.chance</span>
        <span class="pl-k">return</span> yourValue
    } }

    <span class="pl-c">//OR:</span>

    { <span class="pl-k">function</span>(){
        <span class="pl-c">//this.db</span>
        <span class="pl-c">//this.object</span>
        <span class="pl-c">//this.faker</span>
        <span class="pl-c">//this.chance</span>
        <span class="pl-k">return</span> yourValue
    } }     </pre></div>
</li>
<li>
<p><strong><em>faker</em></strong>: you can use directly faker functions like: (note that, db (actual entities generated), object (actual entity generated) are injected), <strong><em>you must pass an exactly JSON syntax</em></strong>:</p>

<div class="highlight highlight-source-js"><pre>    { faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>lorem.words<span class="pl-pds">'</span></span> }                            <span class="pl-c">//Run faker.lorem.words()</span>
    { faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>lorem.words()<span class="pl-pds">'</span></span> }                          <span class="pl-c">//Run faker.lorem.words()</span>
    { faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>lorem.words(1)<span class="pl-pds">'</span></span> }                         <span class="pl-c">//Run faker.lorem.words(1)</span>
    { faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>integer({"min": 1, "max": 10})<span class="pl-pds">'</span></span> }         <span class="pl-c">//Run faker.lorem.words(1) and take the first</span>
    { faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>random.arrayElement(db.users)<span class="pl-pds">'</span></span> }          <span class="pl-c">//Run faker.arrayElement over a generated user entity</span>
    { faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>random.arrayElement(db.users)["userId"]<span class="pl-pds">'</span></span> }  <span class="pl-c">//Run faker.arrayElement over a generated user entity and take the userId only</span></pre></div>
</li>
<li>
<p><strong><em>chance</em></strong>: you can use directly chance functions, you can do: (note that, db (actual entities generated), object (actual entity generated) are injected), <strong><em>you must pass an exactly JSON syntax</em></strong>:</p>

<div class="highlight highlight-source-js"><pre>    { chance<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>integer<span class="pl-pds">'</span></span> }                                <span class="pl-c">//Run chance.integer()</span>
    { chance<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>integer()<span class="pl-pds">'</span></span> }                              <span class="pl-c">//Run chance.integer()</span>
    { chance<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>integer({"min": 1, "max": 10})<span class="pl-pds">'</span></span> }         <span class="pl-c">//Run chance.integer({"min": 1, "max": 10})</span>
    { chance<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>street_suffixes()[0]["name"]<span class="pl-pds">'</span></span> }           <span class="pl-c">//Run chance.street_suffixes() takes first result and the name inside</span></pre></div>
</li>
<li>
<p><strong><em>[Array]</em></strong>: you can pass an array that indicates an array of data you can create, passing in the first field the generator (function, faker, or array(not Tested)), and in the second field pass a config object (length, fixedLentgh)</p>

<ul>
<li>
<strong><em>length</em></strong>: to know how many values</li>
<li>
<strong><em>fixedLength</em></strong>: true to create always same amount of values in the array, false to generate a random number bettwen 0 and 'length' value. False by default.</li>
<li>
<strong><em>concat</em></strong>: An stringuified array ex: '[object.id, db.users.id]'. This should be an evaluable string to concat with the array that are generating. Also takes in mind that if you have a fixedLength, should not increase the lenght.</li>
<li>
<strong><em>strictConcat</em></strong>: true to remove duplicates in the concated string array, when it is calculated. False by default.</li>
</ul>

<div class="highlight highlight-source-js"><pre>[{
    <span class="pl-c">//Any generator</span>
        <span class="pl-c">//Faker  </span>
    faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>random.arrayElement(db.users).userId<span class="pl-pds">'</span></span>
        <span class="pl-c">//Chance  </span>
    chance<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>integer<span class="pl-pds">'</span></span>
        <span class="pl-c">//Function  </span>
    <span class="pl-en">function</span><span class="pl-k">:</span> <span class="pl-k">function</span> (){ <span class="pl-k">return</span> <span class="pl-c">/**/</span> }

    <span class="pl-c">//Array config</span>
    length<span class="pl-k">:</span> <span class="pl-c1">10</span>,
    fixedLength<span class="pl-k">:</span> <span class="pl-c1">true</span>

    <span class="pl-c">//Concat</span>
    concat<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>[db.users[0].userId, db.users[1].userId]<span class="pl-pds">'</span></span>
    strictConcat<span class="pl-k">:</span> <span class="pl-c1">true</span>
}]     </pre></div>
</li>
</ul>

<h4>
<a id="optional-fields" class="anchor" href="#optional-fields" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Optional fields</h4>

<ul>
<li>
<strong><em>[virtual]</em></strong>: Boolean, if you pass this option, this mean that this field will not appear at the output entity. But you can use during the generation.</li>
</ul>

<div class="highlight highlight-source-js"><pre>    {
        <span class="pl-c">//Any generator</span>
            <span class="pl-c">//Faker  </span>
        faker<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>random.arrayElement(db.users)[userId]<span class="pl-pds">'</span></span>
            <span class="pl-c">//Chance  </span>
        chance<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>integer<span class="pl-pds">'</span></span>
            <span class="pl-c">//static</span>
        static<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>any static field<span class="pl-pds">'</span></span>
            <span class="pl-c">//Function  </span>
        <span class="pl-en">function</span><span class="pl-k">:</span> <span class="pl-k">function</span> (){ <span class="pl-k">return</span> <span class="pl-c">/**/</span> }

        <span class="pl-c">//with the virtual option</span>
        virtual<span class="pl-k">:</span> <span class="pl-c1">true</span>

    }     </pre></div>

<h4>
<a id="data-generation" class="anchor" href="#data-generation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data generation</h4>

<p>Initialize mocker with the config, and then generate any entity with promises style, use generate function that accepts the name of the model and the amount of data to generate. Like the example:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">mocker</span>()
    .<span class="pl-en">schema</span>(<span class="pl-s"><span class="pl-pds">'</span>user<span class="pl-pds">'</span></span>, user, <span class="pl-c1">2</span>)
    .<span class="pl-en">schema</span>(<span class="pl-s"><span class="pl-pds">'</span>group<span class="pl-pds">'</span></span>, group, <span class="pl-c1">2</span>)
    .<span class="pl-en">schema</span>(<span class="pl-s"><span class="pl-pds">'</span>conditionalField<span class="pl-pds">'</span></span>, conditionalField <span class="pl-c1">2</span>)
    .<span class="pl-en">build</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">util</span>.<span class="pl-en">inspect</span>(data, { depth<span class="pl-k">:</span> <span class="pl-c1">10</span> }))
<span class="pl-c">//This returns an object</span>
<span class="pl-c">// {</span>
<span class="pl-c">//      user:[array of users],</span>
<span class="pl-c">//      group: [array of groups],</span>
<span class="pl-c">//      conditionalField: [array of conditionalFields]</span>
<span class="pl-c">// }</span>
        })</pre></div>

<p>You can also pass instead of the number, an object with the a config, from now <code>{uniqueField}</code>. If this field exists tells to the generator that instead of init a fixed length of data, generate an amount of data depending of the values of the field you will specify.
You have 2 way to deal with this, check the examples
See the output of this example:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">//</span>
<span class="pl-c">// First way, using an 'values' embebbed object</span>
<span class="pl-c">//</span>

<span class="pl-k">var</span> cat <span class="pl-k">=</span> {
    name<span class="pl-k">:</span> {
        values<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>txuri<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>pitxi<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>kitty<span class="pl-pds">'</span></span>]
    }
};
<span class="pl-k">var</span> m <span class="pl-k">=</span> <span class="pl-en">mocker</span>()
    .<span class="pl-en">schema</span>(<span class="pl-s"><span class="pl-pds">'</span>cat<span class="pl-pds">'</span></span>, cat, <span class="pl-c1">10</span>)
    .<span class="pl-en">schema</span>(<span class="pl-s"><span class="pl-pds">'</span>cat2<span class="pl-pds">'</span></span>, cat, {uniqueField<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>})
    .<span class="pl-en">build</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>){
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">util</span>.<span class="pl-en">inspect</span>(data, {depth<span class="pl-k">:</span><span class="pl-c1">10</span>}))
    })

<span class="pl-c">//</span>
<span class="pl-c">// Second way, without 'values' embebbed.</span>
<span class="pl-c">//</span>

<span class="pl-k">var</span> cat <span class="pl-k">=</span> {
    name<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>txuri<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>pitxi<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>kitty<span class="pl-pds">'</span></span>]
};
<span class="pl-k">var</span> m <span class="pl-k">=</span> <span class="pl-en">mocker</span>()
    .<span class="pl-en">schema</span>(<span class="pl-s"><span class="pl-pds">'</span>cat<span class="pl-pds">'</span></span>, cat, <span class="pl-c1">10</span>)
    .<span class="pl-en">schema</span>(<span class="pl-s"><span class="pl-pds">'</span>cat2<span class="pl-pds">'</span></span>, cat, {uniqueField<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>})
    .<span class="pl-en">build</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>){
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">util</span>.<span class="pl-en">inspect</span>(data, {depth<span class="pl-k">:</span><span class="pl-c1">10</span>}))
    })</pre></div>

<h4>
<a id="more-comming-soon" class="anchor" href="#more-comming-soon" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>More, Comming soon</h4>

<h2>
<a id="development" class="anchor" href="#development" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Development</h2>

<p>Run <code>npm install;npm run dev</code> to watch the proyect, webpack compile the code automatically.
Run <code>npm build</code> to build the normal and minified version.</p>

<h2>
<a id="why-not-use-json-schema-faker" class="anchor" href="#why-not-use-json-schema-faker" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Why not use json-schema-faker?</h2>

<p>json-schema-faker is awesome and works really nice, but i need a simplified and fast way to generate mock data for my proyects, so i created this.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>Licensed under the MIT license. 2015</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/danibram/mocker-data-generator">Mocker-data-generator</a> is maintained by <a href="https://github.com/danibram">danibram</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
